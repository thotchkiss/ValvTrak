(function (a, b) { dnnModal = { load: function () { try { if (parent.location.href !== undefined) { var a = parent; var b = a.parent; if (typeof b.$find != "undefined") { if (location.href.indexOf("popUp") == -1 || a.location.href.indexOf("popUp") > -1) { var c = a.jQuery("#iPopUp"); var d = c.dialog("option", "refresh"); var e = c.dialog("option", "closingUrl"); if (e == "") { e = location.href } if (c.dialog("isOpen") === true) { c.dialog("option", { close: function (a, b) { dnnModal.closePopUp(d, e) } }).dialog("close") } } else { a.jQuery("#iPopUp").dialog({ title: document.title }) } } } } catch (f) { return false } }, show: function (c, d, e, f, g, h) { var i = b("#iPopUp"); if (i.length == 0) { i = b('<iframe id="iPopUp" src="about:blank" scrolling="auto" frameborder="0"></iframe>'); b(document).find("html").css("overflow", "hidden"); b(document).append(i) } var j = parent; i.dialog({ modal: true, autoOpen: true, dialogClass: "dnnFormPopup", position: "center", minWidth: f, minHeight: e, maxWidth: 1920, maxHeight: 1080, resizable: true, closeOnEscape: true, zIndex: 1e5, refresh: g, closingUrl: h, close: function (a, b) { dnnModal.closePopUp(g, h) } }).width(f - 11).height(e - 11); if (b(".ui-dialog-title").next("a.dnnModalCtrl").length === 0) { var k = b('<a class="dnnModalCtrl"></a>'); b("a.ui-dialog-titlebar-close").wrap(k); var l = b('<a href="#" class="dnnToggleMax"><span>Max</span></a>'); b("a.ui-dialog-titlebar-close").before(l); l.click(function (c) { c.preventDefault(); var d = b(a), e = b(this), f, g, h; if (i.data("isMaximized")) { f = i.data("height"); g = i.data("width"); h = i.data("position"); i.data("isMaximized", false) } else { i.data("height", i.dialog("option", "minHeight")).data("width", i.dialog("option", "minWidth")).data("position", i.dialog("option", "position")); f = d.height() - 46; g = d.width() - 40; h = [0, 0]; i.data("isMaximized", true) } i.dialog({ height: f, width: g }); i.dialog({ position: "center" }) }) } var m = function () { var a = b('<div class="dnnLoading"></div>'); a.css({ width: i.width(), height: i.height() }); i.before(a) }; var n = function () { i.prev(".dnnLoading").remove() }; m(); i[0].src = c; i.bind("load", function () { n() }); if (d.toString() == "true") { return false } }, closePopUp: function (a, c) { var d = parent; if (typeof a === "undefined") { a = true } if (typeof c === "undefined" || c == "") { c = d.location } if (a.toString() == "true") { d.location.href = c; b(this).hide() } else { b(this).remove() } b(d.document).find("html").css("overflow", "") } }; dnnModal.load() })(window, jQuery)